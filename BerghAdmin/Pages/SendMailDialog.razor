@page "/send-email-dialog"

@using Syncfusion.Blazor.Inputs
@using Syncfusion.Blazor.Popups
@using Syncfusion.Blazor.RichTextEditor

<SfDialog Width="75%" IsModal="true" ShowCloseIcon="true" @bind-Visible="@IsVisible">
    <DialogEvents OnOverlayClick="@OnOverlayclick" Opened="@Opened">
    </DialogEvents>
    <DialogTemplates>
        <Header> Emails verzenden </Header>
        <Content>
            <EditForm Model="@Message">
                <div class="form-group">
                    <SfTextBox @bind-Value="@_fromAddress" Placeholder="Afzender" ShowClearButton=true></SfTextBox>
                </div>
                <div class="form-group">
                    <SfTextBox @bind-Value="@_toAddresses" Placeholder="Aan" ShowClearButton=true></SfTextBox>
                </div>
                <div class="form-group">
                    <SfTextBox @bind-Value="@_ccAddresses" Placeholder="CC" ShowClearButton=true></SfTextBox>
                </div>
                <div class="form-group">
                    <SfTextBox @bind-Value="@_bccAddresses" Placeholder="BCC" ShowClearButton=true></SfTextBox>
                </div>
                <div class="form-group">
                    <SfTextBox @ref="_subjectEditor" @bind-Value="@Message.Subject" Placeholder="Onderwerp"></SfTextBox>
                </div>
                <div class="form-group">
                    <SfRichTextEditor @ref="_mailBodyEditor" @bind-Value="@Message.HtmlBody" Placeholder="Inhoud van de email" ShowCharCount="true" AutoSaveOnIdle="true" Height="500px">
                        <br />
                        <br />
                        Met vriendelijke groeten,
                        <br />
                        @Message.From.Name
                        <br />
                        <br />
                        <img src="images/email/LogoBihz.jpg" style="width: 200px; height: 179px;" />
                        <br />
                        <RichTextEditorToolbarSettings Items="@Tools" />
                    </SfRichTextEditor>
                </div>
            </EditForm>
        </Content>
    </DialogTemplates>
    <DialogButtons>
        <DialogButton Content="Verzenden" IsPrimary="true" OnClick="@SendEMail" />
        <DialogButton Content="Afbreken" IsPrimary="false" OnClick="@DialogClose" />
    </DialogButtons>
</SfDialog>
